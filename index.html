<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è –Ω–∞ –≤–µ—Å—ñ–ª–ª—è ‚Äî –Ø–Ω–∏ & –¢–∞—Ä–∞—Å–∞</title>
  <meta name="description" content="–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è –Ω–∞ –≤–µ—Å—ñ–ª–ª—è –Ø–Ω–∏ —Ç–∞ –¢–∞—Ä–∞—Å–∞." />
  <style>
    :root{
      --bg:#0b0b0f;
      --card:rgba(255,255,255,.06);
      --border:rgba(255,255,255,.12);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.72);
      --accent:#f5d7a1;
      --accent2:#f88749;
      --shadow:0 20px 60px rgba(0,0,0,.45);
      --radius:22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; color:var(--text);
      font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:
        radial-gradient(900px 600px at 20% 10%, rgba(245,215,161,.18), transparent 60%),
        radial-gradient(800px 500px at 80% 30%, rgba(248,135,73,.14), transparent 55%),
        radial-gradient(700px 500px at 50% 95%, rgba(255,255,255,.06), transparent 60%),
        var(--bg);
    }
    .wrap{max-width:980px;margin:0 auto;padding:28px 18px 70px}
    .badge{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 12px;border:1px solid var(--border);
      background:rgba(255,255,255,.04);border-radius:999px;
      backdrop-filter:blur(10px)
    }
    .dot{width:8px;height:8px;border-radius:50%;background:var(--accent2);box-shadow:0 0 0 4px rgba(248,135,73,.16)}
    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:10px;
      padding:12px 16px;border-radius:999px;border:1px solid var(--border);
      background:rgba(255,255,255,.06);text-decoration:none;color:inherit;
      transition:transform .12s ease, background .12s ease, border-color .12s ease;
      cursor:pointer; user-select:none;
    }
    .btn:hover{transform:translateY(-1px);background:rgba(255,255,255,.08);border-color:rgba(255,255,255,.18)}
    .btn.primary{
      border-color:rgba(245,215,161,.55);
      background:linear-gradient(135deg, rgba(245,215,161,.22), rgba(248,135,73,.12));
    }

    .topbar{display:flex;align-items:center;justify-content:space-between;gap:14px;padding:10px 0 18px}
    .hero{
      position:relative;padding:34px 22px;border-radius:var(--radius);
      border:1px solid var(--border);
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      box-shadow:var(--shadow);overflow:hidden;
    }
    .glow{
      position:absolute;inset:-60px;
      background:
        radial-gradient(280px 220px at 18% 15%, rgba(245,215,161,.26), transparent 60%),
        radial-gradient(240px 190px at 78% 25%, rgba(248,135,73,.18), transparent 62%),
        radial-gradient(300px 220px at 50% 95%, rgba(255,255,255,.09), transparent 65%);
      filter:blur(6px);opacity:.9;pointer-events:none;
    }
    .hero-grid{position:relative;display:grid;grid-template-columns:1.2fr .8fr;gap:18px}
    @media (max-width:820px){.hero-grid{grid-template-columns:1fr}}
    .kicker{color:var(--muted);letter-spacing:.12em;text-transform:uppercase;font-size:14px}
    h1{margin:10px 0 8px;font-size:54px;line-height:1.05;letter-spacing:-.02em}
    @media (max-width:520px){
      h1{font-size:40px}
      .topbar {flex-direction: column; align-items: stretch; gap: 8px;}
      .badge {flex: 1 0 100%; justify-content: center;}
    }
    .sub{color:var(--muted);font-size:18px;max-width:55ch;margin:0 0 18px}
    .chips{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}
    .chip{
      padding:8px 10px;border-radius:999px;border:1px solid var(--border);
      background:rgba(255,255,255,.04);color:rgba(255,255,255,.85);font-size:14px
    }

    .card{
      border:1px solid var(--border);
      background:rgba(255,255,255,.04);
      border-radius:var(--radius);
      padding:18px;
      box-shadow:0 12px 36px rgba(0,0,0,.28);
    }
    .card h2{margin:0 0 10px;font-size:18px;letter-spacing:-.01em}

    .timeline{display:flex;flex-direction:column;gap:12px;margin:0;padding:0;list-style:none}
    .step{
      display:flex;gap:12px;align-items:flex-start;
      padding:12px;border-radius:18px;border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.12);
    }
    .time{min-width:72px;font-weight:700;color:var(--accent);font-variant-numeric:tabular-nums}
    .title{margin:0;font-weight:650}
    .step p{margin:0;color:var(--muted)}
    .divider{height:1px;background:rgba(255,255,255,.10);margin:14px 0}
    .muted{color:var(--muted)}

    /* countdown */
    .countdown{
      display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-top:12px
    }
    .cd{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.04);
      border-radius:18px;padding:12px 10px;text-align:center
    }
    .cd .n{font-size:26px;font-weight:750;letter-spacing:-.02em}
    .cd .l{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.12em}
    @media (max-width:520px){
      .countdown{grid-template-columns:repeat(2,1fr)}
      .step { font-size: 14px;}
      .time { min-width: 50px; }
    }
    .footer{margin-top:22px;display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:space-between;color:var(--muted);font-size:14px}
    .small{font-size:13px;color:rgba(255,255,255,.68)}

    .hidden{display:none !important;}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="badge">
        <span class="dot"></span>
        <span class="small" id="topBadge">–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è</span>
      </div>
      <div class="badge" id="familyBadge">–ù–∞ –≤–µ—Å—ñ–ª–ª—è <b>–î–º–∏—Ç—Ä–∏–∫—ñ–≤</b></div>
    </div>

    <section class="hero" aria-label="–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è">
      <div class="glow"></div>
      <div class="hero-grid">
        <div>
          <div class="kicker" id="dearLine">–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è</div>
          <h1>–Ø–Ω–∞ <span style="color:var(--accent)">&</span> –¢–∞—Ä–∞—Å</h1>

          <!-- –ü—É–±–ª—ñ—á–Ω–∏–π —Ç–µ–∫—Å—Ç (–º–æ–∂–Ω–∞ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –≤—Å—ñ–º) -->
          <p class="sub" id="publicSub">
            –ë—É–¥–µ–º–æ —Ä–∞–¥—ñ –±–∞—á–∏—Ç–∏ –≤–∞—Å –ø–æ—Ä—É—á —É —Ü–µ–π –¥–µ–Ω—å üíõ
          </p>

          <!-- –ü—Ä–∏–≤–∞—Ç–Ω—ñ –¥–µ—Ç–∞–ª—ñ (—Ö–æ–≤–∞—î–º–æ, —è–∫—â–æ –≥—ñ—Å—Ç—å –Ω–µ –∑ whitelist) -->
          <div id="privateInfo">
            <p class="sub" style="margin-top:-6px">
              27 –≥—Ä—É–¥–Ω—è –º–∏ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ —Å—Ç–∞–Ω–µ–º–æ —Å—ñ–º‚Äô—î—é üíç
            </p>

            <div class="chips">
              <span class="chip">üï∞ –£—Ä–æ—á–∏—Å—Ç–∞ —á–∞—Å—Ç–∏–Ω–∞: <b>12:20</b></span>
              <span class="chip">ü•Ç –ë–∞–Ω–∫–µ—Ç: <b>13:00</b></span>
              <span class="chip">üìç –†–µ—Å—Ç–æ—Ä–∞–Ω: <b>–†–æ–Ω–¥–µ–ª—å</b></span>
            </div>

            <div class="divider"></div>
            <div class="muted">–î–æ –ø–æ–¥—ñ—ó –∑–∞–ª–∏—à–∏–ª–æ—Å—å:</div>
            <div class="countdown" aria-label="–¢–∞–π–º–µ—Ä –¥–æ –ø–æ–¥—ñ—ó">
              <div class="cd"><div class="n" id="d">‚Äî</div><div class="l">–¥–Ω—ñ–≤</div></div>
              <div class="cd"><div class="n" id="h">‚Äî</div><div class="l">–≥–æ–¥</div></div>
              <div class="cd"><div class="n" id="m">‚Äî</div><div class="l">—Ö–≤</div></div>
              <div class="cd"><div class="n" id="s">‚Äî</div><div class="l">—Å–µ–∫</div></div>
            </div>

            <p class="small" style="margin-top:12px">
              –Ø–∫—â–æ –Ω–µ –≤–∏–π–¥–µ –±—É—Ç–∏ –Ω–∞ —Ä–æ–∑–ø–∏—Å—ñ ‚Äî –ø—Ä–∏—Ö–æ–¥—å—Ç–µ –æ–¥—Ä–∞–∑—É –Ω–∞ –±–∞–Ω–∫–µ—Ç, –±–µ–∑ –≤–∞—Å —Å–≤—è—Ç–∫—É–≤–∞–Ω–Ω—è –±—É–¥–µ –Ω–µ –ø–æ–≤–Ω–∏–º üíõ
            </p>
          </div>

          <!-- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è ‚Äú–Ω–µ –∑ —Å–ø–∏—Å–∫—É‚Äù -->
          <div class="card hidden" id="lockedNote" style="margin-top:14px">
            <h2 style="margin-bottom:6px">–î–µ—Ç–∞–ª—ñ –ø–æ–¥—ñ—ó</h2>
            <p class="muted" style="margin:0">
              –î–µ—Ç–∞–ª—ñ (–¥–∞—Ç–∞, —á–∞—Å —ñ –ª–æ–∫–∞—Ü—ñ—è) –¥–æ—Å—Ç—É–ø–Ω—ñ –ª–∏—à–µ –∑–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–º –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º.
            </p>
          </div>
        </div>

        <!-- –ü—Ä–∏–≤–∞—Ç–Ω–∏–π –±–ª–æ–∫ —Ç–∞–π–º—ñ–Ω–≥—É/–∫–Ω–æ–ø–æ–∫ (—Ç–∞–∫–æ–∂ —Ö–æ–≤–∞—î–º–æ) -->
        <div class="card" id="timing">
          <h2>–¢–∞–π–º—ñ–Ω–≥ –¥–Ω—è</h2>
          <ul class="timeline">
            <li class="step">
              <div class="time">12:20</div>
              <div>
                <p class="title">–£—Ä–æ—á–∏—Å—Ç–∞ —á–∞—Å—Ç–∏–Ω–∞</p>
                <p>–†–æ–∑–ø–∏—Å / –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π –º–æ–º–µ–Ω—Ç.</p>
              </div>
            </li>
            <li class="step">
              <div class="time">13:00</div>
              <div>
                <p class="title">–ë–∞–Ω–∫–µ—Ç —É ‚Äú–†–æ–Ω–¥–µ–ª—å‚Äù</p>
                <p>–ó–∞–ø—ñ–∑–Ω—é–≤–∞—Ç–∏—Å—å –º–æ–∂–Ω–∞‚Ä¶ –∞–ª–µ –¥–∞–≤–∞–π—Ç–µ –±–µ–∑ —Ü—å–æ–≥–æ üòÑ</p>
              </div>
            </li>
          </ul>

          <div class="divider"></div>

          <!-- –ó–ê–ì–û–¢–û–í–ö–ê: —Ç–∏ —Å–∞–º –≤—Å—Ç–∞–≤–∏—à –∞–¥—Ä–µ—Å—É/–ª—ñ–Ω–∫ -->
          <a style="width: 100%" class="btn primary"
             href="PASTE_GOOGLE_MAPS_LINK_HERE"
             target="_blank" rel="noopener">
            –í—ñ–¥–∫—Ä–∏—Ç–∏ –≤ Google Maps
          </a>

          <button style="width: 100%; margin-top: 15px;"
                  class="btn primary"
                  id="addToCalendarBtn"
                  type="button">
            –î–æ–¥–∞—Ç–∏ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä
          </button>
        </div>
      </div>
    </section>

    <div class="footer">
      <div>–ó –ª—é–±–æ–≤‚Äô—é, <b>–Ø–Ω–∞ —ñ –¢–∞—Ä–∞—Å</b> üíõ</div>
      <div class="small">¬© <span id="year"></span></div>
    </div>
  </div>

  <script>
    // ====== 0) YEAR
    document.getElementById('year').textContent = new Date().getFullYear();

    const GUESTS = [
      { name: "–ú–∏—Ä–æ–Ω—è–∫ –†–æ–º–∞–Ω" },
      { name: "–õ—É–Ω—ñ–≤–∏ –†–æ–º–∞–Ω", secondName: "–î—ñ–∞–Ω–∞" },
      { name: "–ù—î—Ñ–µ—Ä(–†–æ–º–∞–Ω)", secondName: "–ú–∞—Ä—ñ—è" },
    ];

    const normalize = (s) =>
      (s || "")
        .trim()
        .replace(/\s+/g, " ")
        .toLowerCase();

    const params = new URLSearchParams(window.location.search);
    const rawName = params.get("name");
    const rawSecond = params.get("secondName");

    // –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ ‚Äú—Å–∞–Ω—ñ—Ç–∏–∑–∞—Ü—ñ—è‚Äù –¥–ª—è –≤–∏–≤–æ–¥—É
    const safeText = (s) => (s || "").replace(/[<>]/g, "").trim();

    const name = safeText(rawName);
    const secondName = safeText(rawSecond);

    const nName = normalize(name);
    const nSecond = normalize(secondName);

    function isAllowedGuest() {
      if (!nName) return false;

      return GUESTS.some((g) => {
        const gn = normalize(g.name);
        const gs = normalize(g.secondName);

        // –Ø–∫—â–æ –≥—ñ—Å—Ç—å —É —Å–ø–∏—Å–∫—É —è–∫ –ø–∞—Ä–∞ ‚Äî –ø–æ—Ç—Ä—ñ–±–Ω—ñ –æ–±–∏–¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —ñ —Ç–æ—á–Ω–∏–π –º–∞—Ç—á
        if (gs) return gn === nName && gs === nSecond;

        // –Ø–∫—â–æ –≥—ñ—Å—Ç—å —É —Å–ø–∏—Å–∫—É –æ–¥–∏–Ω ‚Äî –¥–æ–∑–≤–æ–ª—è—î–º–æ —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–∏ secondName –Ω–µ –ø–µ—Ä–µ–¥–∞–ª–∏
        return gn === nName && !nSecond;
      });
    }

    const allowed = isAllowedGuest();

    // ====== 2) PERSONALIZATION + show/hide private info
    const dearLine = document.getElementById("dearLine");
    const topBadge = document.getElementById("topBadge");

    const privateInfo = document.getElementById("privateInfo");
    const timing = document.getElementById("timing");
    const lockedNote = document.getElementById("lockedNote");

    if (allowed) {
      if (name && secondName) {
        dearLine.textContent = `–ú–∏ –¥–æ–≤–≥–æ –¥—É–º–∞–ª–∏‚Ä¶ —è–∫ –Ω–µ —è–∫ 9 —Ä–æ–∫—ñ–≤ üôÉ`;
        topBadge.textContent = `–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è: ${name} —ñ ${secondName}`;
      } else if (name) {
        dearLine.textContent = `–ú–∏ –¥–æ–≤–≥–æ –¥—É–º–∞–ª–∏‚Ä¶ —è–∫ –Ω–µ —è–∫ 9 —Ä–æ–∫—ñ–≤ üôÉ`;
        topBadge.textContent = `–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è: ${name}`;
      }

      privateInfo.classList.remove("hidden");
      timing.classList.remove("hidden");
      lockedNote.classList.add("hidden");
    } else {
      // –ù–µ –∑ whitelist –∞–±–æ –Ω–µ–º–∞—î –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ ‚Äî —Ö–æ–≤–∞—î–º–æ –¥–µ—Ç–∞–ª—ñ
      dearLine.textContent = `–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è`;
      topBadge.textContent = `–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è`;

      privateInfo.classList.add("hidden");
      timing.classList.add("hidden");
      lockedNote.classList.remove("hidden");
    }

    // ====== 3) COUNTDOWN (—Ç—ñ–ª—å–∫–∏ —è–∫—â–æ allowed)
    const eventDate = new Date("2025-12-27T12:20:00");

    const pad2 = (v) => String(v).padStart(2, "0");
    const elD = document.getElementById("d");
    const elH = document.getElementById("h");
    const elM = document.getElementById("m");
    const elS = document.getElementById("s");

    function tick() {
      const now = new Date();
      let diff = eventDate.getTime() - now.getTime();

      if (diff <= 0) {
        elD.textContent = "00";
        elH.textContent = "00";
        elM.textContent = "00";
        elS.textContent = "00";
        return;
      }

      const sec = Math.floor(diff / 1000);
      const days = Math.floor(sec / 86400);
      const hours = Math.floor((sec % 86400) / 3600);
      const mins = Math.floor((sec % 3600) / 60);
      const secs = sec % 60;

      elD.textContent = pad2(days);
      elH.textContent = pad2(hours);
      elM.textContent = pad2(mins);
      elS.textContent = pad2(secs);
    }

    if (allowed) {
      tick();
      setInterval(tick, 1000);
    }

    // ====== 4) ADD TO CALENDAR (.ics) (—Ç—ñ–ª—å–∫–∏ —è–∫—â–æ allowed)
    function pad2n(n){ return String(n).padStart(2,'0'); }
    function toICSLocal(dt){
      return (
        dt.getFullYear() +
        pad2n(dt.getMonth()+1) +
        pad2n(dt.getDate()) + 'T' +
        pad2n(dt.getHours()) +
        pad2n(dt.getMinutes()) +
        pad2n(dt.getSeconds())
      );
    }
    function uid(){
      return 'wedding-' + Math.random().toString(16).slice(2) + '@invite';
    }

    const addBtn = document.getElementById('addToCalendarBtn');
    if (addBtn) {
      if (!allowed) {
        addBtn.disabled = true;
        addBtn.classList.add("hidden");
      } else {
        addBtn.addEventListener('click', () => {
          const title = '–í–µ—Å—ñ–ª–ª—è: –Ø–Ω–∏ & –¢–∞—Ä–∞—Å–∞';

          // –ó–ê–ì–û–¢–û–í–ö–ê (—Ç–∏ –ø—ñ–¥—Å—Ç–∞–≤–∏—à –ø–æ—Ç—ñ–º)
          const location = '–†–æ–Ω–¥–µ–ª—å ‚Äî –≤—É–ª–∏—Ü—è –ö—Ä–∞–π–∫—ñ–≤—Å—å–∫–æ–≥–æ, 1–±';

          const who = (name && secondName)
            ? `${name} —ñ ${secondName}`
            : (name ? name : '–ì—ñ—Å—Ç—å');

          const description =
            `–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è –¥–ª—è: ${who}\n` +
            `–£—Ä–æ—á–∏—Å—Ç–∞ —á–∞—Å—Ç–∏–Ω–∞ ‚Äî 12:20. –ë–∞–Ω–∫–µ—Ç ‚Äî 13:00 —É ‚Äú–†–æ–Ω–¥–µ–ª—å‚Äù.\n` +
            `–ü–æ—Å–∏–ª–∞–Ω–Ω—è: ${window.location.href}`;

          const start = new Date('2025-12-27T12:20:00');
          const end = new Date(start.getTime() + 6 * 60 * 60 * 1000);

          const dtStamp = toICSLocal(new Date());
          const dtStart = toICSLocal(start);
          const dtEnd = toICSLocal(end);

          const ics =
`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Wedding Invite//UA//EN
CALSCALE:GREGORIAN
METHOD:PUBLISH
BEGIN:VEVENT
UID:${uid()}
DTSTAMP:${dtStamp}
DTSTART:${dtStart}
DTEND:${dtEnd}
SUMMARY:${title}
LOCATION:${location}
DESCRIPTION:${description.replace(/\n/g, '\\n')}
END:VEVENT
END:VCALENDAR`;

          const blob = new Blob([ics], { type: 'text/calendar;charset=utf-8' });
          const url = URL.createObjectURL(blob);

          const a = document.createElement('a');
          a.href = url;
          a.download = 'wedding-invite.ics';
          document.body.appendChild(a);
          a.click();
          a.remove();

          URL.revokeObjectURL(url);
        });
      }
    }
  </script>
</body>
</html>
